% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_gauge_indices.R
\name{af_tail_threshold}
\alias{af_tail_threshold}
\title{Calculate Tail Threshold Using Different Methods}
\usage{
af_tail_threshold(
  scores,
  type = c("Quantile", "MAD", "Qn", "Sn", "Tau", "ZScore"),
  q_pct = 0.85,
  k_factor = 1.5,
  z_pct = 0.85
)
}
\arguments{
\item{scores}{Numeric vector of scores/values for which to calculate the threshold.
Must contain at least 2 non-missing values.}

\item{type}{Character string specifying the method to use. Must be one of
"Quantile", "MAD", "Qn", "Sn", "Tau", or "ZScore". Default is "Quantile".}

\item{q_pct}{Numeric value between 0 and 1 specifying the quantile threshold
for the "Quantile" method. Default is 0.85 (85th percentile).}

\item{k_factor}{Numeric value specifying the multiplier for MAD in the
"MAD" method. Must be positive. Default is 1.5.}

\item{z_pct}{Numeric value between 0 and 1 specifying the percentile threshold
for the "ZScore" method (e.g., 0.85 for 85th percentile). Default is 0.85.}
}
\value{
Numeric value representing the calculated threshold.
}
\description{
This function calculates a threshold value to identify the tail of a distribution
using quantile-based, MAD, robust scale estimator, or Z-score methods.
}
\details{
The function supports six methods:
\itemize{
\item \strong{Quantile}: Returns the q_pct quantile of the scores
\item \strong{MAD}: Returns median + k_factor * MAD, where MAD is the
median absolute deviation calculated with constant=1
\item \strong{Qn}: Returns median + k_factor * Qn, where Qn is the
Rousseeuw-Croux Qn estimator (requires robustbase package)
\item \strong{Sn}: Returns median + k_factor * Sn, where Sn is the
Rousseeuw-Croux Sn estimator (requires robustbase package)
\item \strong{Tau}: Returns median + k_factor * Tau, where Tau is the
Tau scale estimator (requires robustbase package)
\item \strong{ZScore}: Returns mean + z_score * SD, where z_score corresponds
to the z_pct percentile of the standard normal distribution
}
}
\examples{
# Generate sample data
scores <- rnorm(100, mean = 50, sd = 10)

# Calculate 85th percentile threshold
af_tail_threshold(scores, type = "Quantile", q_pct = 0.85)

# Calculate MAD-based threshold
af_tail_threshold(scores, type = "MAD", k_factor = 1.5)

# Calculate Z-score based threshold
af_tail_threshold(scores, type = "ZScore", z_pct = 0.85)

}
