% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_trick_of_the_tail.R
\name{af_extremism_tail_warnings}
\alias{af_extremism_tail_warnings}
\title{Generate Extremism Tail Size Warning Table}
\usage{
af_extremism_tail_warnings(
  df,
  community_var,
  wave_var = "Wave",
  dimensions = c("pe_ideology", "pe_violence", "pe_intolerance"),
  threshold_type = "MAD",
  k_factor = 1.5,
  tail_size_warning = 10
)
}
\arguments{
\item{df}{A data frame containing the survey dataset}

\item{community_var}{Character string representing the community variable column name}

\item{wave_var}{Character string representing the wave variable column name (default: "Wave")}

\item{dimensions}{Character vector of exactly 3 variable names corresponding to
cognitive, behavioral, and social dimensions (default: c("pe_ideology", "pe_violence", "pe_intolerance"))}

\item{threshold_type}{Character string specifying the threshold calculation method.
Must be either "MAD", "Sn", "Qn" or "Tau". Default is "MAD".}

\item{k_factor}{Numeric value specifying the multiplier for threshold calculation.
Must be positive. Default is 1.5.}

\item{tail_size_warning}{Integer specifying the minimum tail size below which
values should be highlighted as warnings. Default is 10.}
}
\value{
A gt table object displaying tail sizes by community, wave, and dimension
with conditional formatting for values below the warning threshold.
}
\description{
This function creates a comprehensive table showing the size of extremism tails
for each community-wave-dimension combination, with warnings for small tail sizes
that might lead to unreliable extremism level calculations.
}
\details{
The function:
\itemize{
\item Calculates population-level thresholds for each wave and dimension
\item Counts how many individuals in each community exceed these thresholds
\item Displays results as "count (percentage\%)" format
\item Highlights cells in bold red when tail size < tail_size_warning
\item Organizes results by dimension with clear section headers
}

The table helps identify potential issues with extremism level calculations
due to small sample sizes in the extremism tail, which can lead to unstable
percentage estimates.
}
\examples{
# Generate warning table for standard analysis
warning_table <- af_extremism_tail_warnings(
  df = survey_data,
  community_var = "pe_left_center_right",
  threshold_type = "MAD",
  k_factor = 1.5,
  tail_size_warning = 10
)

# Display the table
warning_table

}
