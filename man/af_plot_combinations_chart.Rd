% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_social_identity.R
\name{af_plot_combinations_chart}
\alias{af_plot_combinations_chart}
\title{Generates a horizontal bar chart showing counts for combinations of specified variables.
Allows filtering based on a percentage threshold and exclusion of specific strings
in combination labels. Displays percentage on each bar and uses "Respondents" for the x-axis label.
The subtitle includes filtering information and the count/percentage of respondents remaining after filtering.
A multi-line caption is added to show the number of combinations included and the included values for each variable.}
\usage{
af_plot_combinations_chart(
  df,
  var_names,
  threshold = NULL,
  exclude_strings = NULL
)
}
\arguments{
\item{df}{The input dataframe.}

\item{var_names}{A character vector containing the names of the variables to combine.
These variables should ideally be factors or convertible to factors.}

\item{threshold}{A numeric value (0 to 100). If not NULL, combinations with a
percentage of total rows below this threshold will not be displayed.
Defaults to NULL (no threshold filtering).}

\item{exclude_strings}{A character vector of strings. If not NULL, combinations
whose label contains any of these strings will not be included.
Defaults to NULL (no string exclusion filtering).}
}
\value{
A ggplot object representing the horizontal bar chart.
}
\description{
Generates a horizontal bar chart showing counts for combinations of specified variables.
Allows filtering based on a percentage threshold and exclusion of specific strings
in combination labels. Displays percentage on each bar and uses "Respondents" for the x-axis label.
The subtitle includes filtering information and the count/percentage of respondents remaining after filtering.
A multi-line caption is added to show the number of combinations included and the included values for each variable.
}
\examples{
# Assuming you have a dataframe 'my_data' with columns 'A', 'B', 'C'
# my_data <- data.frame(A = sample(letters[1:2], 100, replace = TRUE),
#                       B = sample(1:3, 100, replace = TRUE),
#                       C = sample(c("X", "Y"), 100, replace = TRUE))
#
# # Example 1: Basic usage
# chart1 <- af_plot_combinations_chart(my_data, c("A", "B", "C"))
# print(chart1)

# # Example 2: Using a threshold (e.g., exclude combinations less than 5\%)
# chart2 <- af_plot_combinations_chart(my_data, c("A", "B", "C"), threshold = 5)
# print(chart2)

# # Example 3: Excluding combinations containing "Low" or "Group A"
# chart3 <- af_plot_combinations_chart(my_data, c("pe_left_center_right", "religiosity", "leastliked"), exclude_strings = c("Low", "Group A"))
# print(chart3)

# # Example 4: Using both threshold and exclusion
# chart4 <- af_plot_combinations_chart(my_data, c("pe_left_center_right", "religiosity", "leastliked"), threshold = 10, exclude_strings = c("Right_High"))
# print(chart4)

# # Example 5: Demonstrating error handling (uncomment to test)
# try(af_plot_combinations_chart(dummy_df, c("pe_left_center_right", "non_existent_var")))
# try(af_plot_combinations_chart(dummy_df, c("pe_left_center_right"), threshold = 101))
# try(af_plot_combinations_chart(dummy_df, c("pe_left_center_right"), exclude_strings = 123))
}
