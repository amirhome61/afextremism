% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_trick_of_the_tail.R
\name{af_compare_tail_methods}
\alias{af_compare_tail_methods}
\title{Compare Different Tail Threshold Methods}
\usage{
af_compare_tail_methods(
  df,
  group_selections,
  measure_var,
  methods = c("Quantile", "MAD", "Sn", "Qn", "Tau", "ZScore"),
  method_params = list(k_factor = 1.5, q_pct = 0.85, z_pct = 0.85)
)
}
\arguments{
\item{df}{Data frame containing the survey dataset}

\item{group_selections}{Named list where names are variable names and values are
vectors of group values to analyze}

\item{measure_var}{Character string specifying the column name of the measure variable}

\item{methods}{Character vector of exactly 3 methods to compare. Must be from:
"Quantile", "MAD", "Qn", "Sn", "Tau", "ZScore". Default is c("MAD", "Quantile", "ZScore").}

\item{method_params}{Named list containing parameters for each method. Should include:
\itemize{
\item k_factor: Factor for MAD method (default: 1.5)
\item q_pct: Percentile for Quantile method (default: 0.85)
\item z_pct: Percentile for ZScore method (default: 0.85)
}}
}
\value{
List containing:
\item{results}{Data frame with threshold comparison results for each group}
\item{plots}{List of ggplot objects showing distributions and thresholds}
}
\description{
This function compares different methods for calculating tail thresholds across
population groups, using the af_tail_threshold function for consistent calculations.
}
\details{
The function processes all combinations of group values specified in group_selections
and compares the three selected threshold methods using af_tail_threshold.
For each combination, it creates a plot showing the distribution with threshold lines.
}
\examples{
# Example with different methods
group_sel <- list(country = c("USA", "UK"), wave = c("W1", "W2"))
results <- af_compare_tail_methods(df, group_sel, "extremism_score",
                                   methods = c("MAD", "Quantile", "ZScore"))

}
