% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_gauge_indices.R
\name{af_calculate_indices}
\alias{af_calculate_indices}
\title{Calculate Extremism Indices for a Group}
\usage{
af_calculate_indices(
  group_df,
  dimensions,
  is_community = FALSE,
  parent_indices = NULL,
  threshold_type = "MAD",
  k_factor = 1.5
)
}
\arguments{
\item{group_df}{A data frame containing the group data for which to calculate indices.
Must contain the three dimension columns specified in dimensions parameter.}

\item{dimensions}{Character vector of exactly 3 variable names corresponding to
cognitive, behavioral, and social dimensions. All must be numeric columns in group_df.}

\item{is_community}{Logical value indicating whether this is a community calculation.
If TRUE, parent_indices must be provided. Default is FALSE.}

\item{parent_indices}{Named list containing parent population indices. Required when
is_community = TRUE. Must contain elements: cep_p, bep_p, sep_p, oep_p.}

\item{threshold_type}{Character string specifying the threshold calculation method.
Must be either "MAD", "Sn", "Qn" or "Tau". Default is "MAD".}

\item{k_factor}{Numeric value specifying the multiplier for MAD method.
Must be positive. Default is 2.}
}
\value{
Named list containing calculated indices with appropriate suffix (_p for
population, _c for community):
\itemize{
\item \strong{Normative Points}: cnp, bnp, snp, onp (medians of dimensions)
\item \strong{Extremism Points}: cep, bep, sep, oep (threshold values)
\item \strong{Extremism Levels}: cel, bel, sel, oel (percentage exceeding thresholds)
\item \strong{Extremism Ranks}: er1, er2, er3 (percentage exceeding 1+, 2+, 3+ thresholds)
}
}
\description{
This function calculates various extremism indices (normative points, extremism points,
extremism levels, and extremism ranks) for a given group of observations. It can handle
both population-level calculations (comparing to own thresholds) and community-level
calculations (comparing to parent population thresholds).
}
\details{
The function calculates:
\itemize{
\item \strong{Normative Points}: Median values for each dimension
\item \strong{Extremism Points}: Threshold values using specified method (MAD, Sn, Qn or Tau)
\item \strong{Extremism Levels}: Percentage of observations exceeding each threshold
\item \strong{Extremism Ranks}: Percentage exceeding multiple thresholds simultaneously
}

For population calculations (is_community = FALSE), thresholds are calculated from
the group's own data. For community calculations (is_community = TRUE), thresholds
are taken from the parent population indices.
}
\examples{
comm_indices <- af_calculate_indices(
  group_df = comm_subset,
  dimensions = c("pe_ideology", "pe_violence", "pe_intolerance"),
  is_community = TRUE,
  parent_indices = pop_indices,
  threshold_type = "MAD"
)

}
