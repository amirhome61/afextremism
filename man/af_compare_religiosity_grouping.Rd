% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_voting_patterns.R
\name{af_compare_religiosity_grouping}
\alias{af_compare_religiosity_grouping}
\title{Compare Categories for Grouping Decision}
\usage{
af_compare_religiosity_grouping(
  df,
  nominal_vars,
  numerical_vars,
  comparison_var,
  comparison_levels,
  wave_var
)
}
\arguments{
\item{df}{A data frame containing survey data with categories to compare}

\item{nominal_vars}{Character vector of nominal variable names to compare
(e.g., c("vote", "vote2022", "gender"))}

\item{numerical_vars}{Character vector of numerical variable names to compare
(e.g., c("age"))}

\item{comparison_var}{Character string specifying the categorical variable name
to analyze (e.g., "religiosity")}

\item{comparison_levels}{List of character vectors, each containing pairs of
category levels to compare (e.g., list(c("Traditional", "Secular"),
c("Traditional", "Religious")))}

\item{wave_var}{Character string specifying the wave variable name}
}
\value{
A list containing:
\itemize{
\item similarity_scores: Data frame with similarity measures by wave
\item summary_by_wave: Summary of similarity scores by wave
\item overall_similarity: Overall similarity measures across all waves
\item plots: List of ggplot objects for visualization
\item recommendation: Recommended grouping based on similarity scores
}
}
\description{
This function analyzes the similarity between categories in a comparison variable
to help decide how to group categories together. It compares distributions of
nominal and numerical variables across specified category pairs and provides
both numerical similarity measures and visualizations.
}
\details{
The function calculates similarity using:
\itemize{
\item Cramér's V for nominal variables (converted to similarity: 1 - Cramér's V)
\item Kolmogorov-Smirnov test p-values for numerical variables
\item Higher similarity scores indicate more similar distributions
}
}
\examples{
\dontrun{
# Compare Traditional with Secular and Religious categories
result <- af_compare_religiosity_grouping(
  df = df,
  nominal_vars = c("vote", "vote2022", "gender"),
  numerical_vars = c("age"),
  comparison_var = "religiosity",
  comparison_levels = list(
    c("Traditional", "Secular"),
    c("Traditional", "Religious")
  ),
  wave_var = "Wave"
)

# View similarity scores (for RMD)
knitr::kable(result$summary_by_wave, caption = "Similarity Scores by Wave")
result$recommendation

# Display plots
result$plots$overall
result$plots[["vote"]]
result$plots[["gender"]]
}

}
\seealso{
\code{\link[stats]{chisq.test}}, \code{\link[stats]{ks.test}}
}
