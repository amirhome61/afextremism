% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_reci_analysis.R
\name{af_calculate_community_reci}
\alias{af_calculate_community_reci}
\title{Calculate RECI for Multiple Communities and Dimensions}
\usage{
af_calculate_community_reci(
  current_data,
  previous_data,
  community_variable,
  communities = NULL,
  dimensions = c("c", "b", "s", "o"),
  standardize = TRUE
)
}
\arguments{
\item{current_data}{Data frame containing current period extremism indices.}

\item{previous_data}{Data frame containing previous period extremism indices.}

\item{community_variable}{Character. Name of the column identifying communities.}

\item{communities}{Character vector of community names to analyze. If NULL, all communities will be analyzed.}

\item{dimensions}{Character vector of dimension prefixes (e.g., "c", "b", "s", "o") to analyze.
Default is c("c", "b", "s", "o") for cognitive, behavioral, social, and overall.}

\item{standardize}{Logical. Whether to calculate standardized RECI-S values. Default is TRUE.}
}
\value{
A data frame with RECI values for each community and dimension combination with columns:
\item{community}{The community name}
\item{dimension}{The dimension analyzed (cognitive, behavioral, social, overall)}
\item{current_el}{Current extremism level value}
\item{previous_el}{Previous extremism level value}
\item{current_np}{Current normative point value}
\item{previous_np}{Previous normative point value}
\item{el_percent_change}{Percentage change in extremism level}
\item{np_percent_change}{Percentage change in normative point}
\item{reci}{Basic RECI value}
\item{reci_s}{Standardized RECI-S value (if standardize=TRUE)}
\item{category}{Categorical interpretation of the RECI value}
}
\description{
Applies the Relative Extremism Change Index (RECI) calculation across multiple
communities and extremism dimensions by comparing indices between two time periods.
}
\details{
This function takes two data frames representing different time periods and calculates
RECI values for each community-dimension combination. It extracts extremism levels (el)
and normative points (np) for each dimension and applies the af_calculate_reci function.

The function expects data frames with columns named following the pattern:
\itemize{
\item \if{html}{\out{<dimension>}}el_c (e.g., cel_c, bel_c, sel_c, oel_c) for community extremism levels
\item \if{html}{\out{<dimension>}}np_p (e.g., cnp_p, bnp_p, snp_p, onp_p) for population normative points
\item column identifying the community
}
}
\examples{
# Assuming 'wave1_data' and 'wave2_data' are data frames with extremism indices
results <- af_calculate_community_reci(wave2_data, wave1_data, "community")

# For specific communities and dimensions
results <- af_calculate_community_reci(
  wave2_data, wave1_data, "community",
  communities = c("Secular", "Religious"),
  dimensions = c("c", "o")
)

}
